<div v-view-setup="PSavToTimCtrl" v-init="init()">
	<!-- 存款利率 -->
	<div v-page v-transition="native" title="存贷利率">
		<form>
			<div class="box_cont">
				<div class="zz_cont"
					style="margin-left: 0px; margin-right: 0px; padding: 0px; width: 100%;">
					<b class="bookTitle"
						style="margin-left: 10px; width: 100%; text-align: center;">
						<li class="inner" id="inner" class="selectTitle"
						style="text-align: center; font-size: 16px; width: 45%;"
						v-click="changeType('1')">存款利率</li>
						<li
						style="border-right: none; font-size: 16px; width: 45%; text-align: center;"
						class="cross" id="cross" v-click="changeType('2')">贷款利率</li>

						<div class="d1"
							style="height: 10px; width: 100%; background: white; float: left;">
							<div class="d3"
								style="height: 2px; width: 7%; background: white; float: left"></div>
							<div class="d2"
								style="height: 2px; width: 28%; background: #0084ff; float: left"></div>
						</div>
					</b>
				</div>
			</div>
			<div class="bg_box">
				<div class="box_cont">
					<div class="zz_cont">
						<div style="width: 100%;">
							<ul>
								<li>
									<div style="text-align: center;line-height: 38px;font-weight:bold;">自{{beginDate|formatDateLocal}}日起执行</div>
								</li>
							</ul>
							<ul v-show="ShowOrHide">
								<li>
									<div
										style="float: left; padding-left: 10px; width: 48%; line-height: 38px;">项目</div>
<!-- 									<div -->
<!-- 										style="text-align: center; float: left; width: 34%; line-height: 38px;">执行日期</div> -->
									<div
										style=" float: left; width: 22%; line-height: 38px;">基准利率</div>
									<div
										style="text-align: center; float: right; width: 22%; line-height: 38px;">挂牌利率</div>
								</li>
							</ul>
							<ul  v-show="!ShowOrHide">
								<li>
									<div
										style="float: left; padding-left: 10px; width: 48%; line-height: 38px;">项目</div>
<!-- 									<div -->
<!-- 										style="float: left;text-align: center; width: 34%; line-height: 38px;">执行日期</div> -->
									<div
										style="float: left; width: 22%; line-height: 38px;">基准利率</div>
<!-- 									<div -->
<!-- 										style="text-align: center; float: right; width: 22%; line-height: 38px;">挂牌利率</div> -->
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="bg_box" v-repeat="type in typeList" v-show="type.businessType==ShowIt">
				<div class="box_cont">
					<div class="zz_cont">
						<ul>
							<li>
								<div
									style="float: left; padding-left: 10px; width: 70%; line-height: 38px; font-weight: bold;">{{type.prdTypeName}}</div>
							</li>
						</ul>
						<div v-show="type.prdType == item.prdType" v-repeat="item in RateList">
							<div style="width: 100%;">
								<ul>
									<li>
										<div v-show="!item.Name && type.prdType=='10' && item.businessType=='DPS'"
											style="float: left; padding-left: 10px; width: 44%; line-height: 38px;" >活期</div>
										<div v-show="!item.Name && type.prdType!='10' && item.businessType=='DPS'"
											style="float: left; padding-left: 10px; width: 44%; line-height: 38px;">{{item.term}}{{item.termType}}</div>
										<div v-show="!item.Name && item.businessType=='LNS' && item.term == '12' && item.termTypeCode == 'M' "
											style="float: left; padding-left: 10px; width: 44%; line-height: 38px;">一年（含）以内</div>
										<div v-show="!item.Name && item.businessType=='LNS' && item.term <= '5' && item.termTypeCode == 'Y' && type.prdType=='02'"
											style="float: left; padding-left: 10px; width: 44%; line-height: 38px;">一至五年（含）</div>
										<div v-show="!item.Name && item.businessType=='LNS' && item.term <= '5' && item.termTypeCode == 'Y' && type.prdType=='03'"
											style="float: left; padding-left: 10px; width: 44%; line-height: 38px;">五年以下（含）</div>
										<div v-show="!item.Name && item.businessType=='LNS' && item.term > '5' && item.termTypeCode == 'Y'"
											style="float: left; padding-left: 10px; width: 44%; line-height: 38px;">五年以上</div>
<!-- 										<div v-show="!item.Name" -->
<!-- 											style="float: left; padding-left: 10px; width: 14%; line-height: 38px;" v-show="type.prdType!='10'&& item.businessType=='LNS'" >{{item.term}}{{item.termType}}</div> -->
<!-- 										<div v-show="!item.Name" -->
<!-- 											style="float: left; text-align: center; width: 34%; line-height: 38px;">{{item.beginDate}}</div> -->
										<div v-show="!item.Name"
											style="text-align: center; float: left; width: 22%; line-height: 38px;">{{item.lnsRate|number:4}}%</div>
										<div v-show="!item.Name && item.businessType=='DPS' "
											style="text-align: center; float: right; width: 22%; line-height: 38px;">{{item.rate|number:4}}%</div>
										<div v-show="item.Name"
											style="float: left; padding-left: 10px; width: 90%; line-height: 38px;">{{item.Name}}</div>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<div style="width: 100%; height: 40px;"></div>
</div>
<script>
	PSavToTimCtrl.$inject = [ "$scope", "$remote", "$targets", "$filter",
			"$context" ];
	function PSavToTimCtrl($scope, $remote, $targets, $filter, $context) {
		$scope.init = function() {
			$scope.changeType("1");
		}
		$scope.changeType = function(data) {
			$scope.changeCDType = data;
			if (data == '1') {
				$scope.ShowOrHide = true;
				$scope.ShowIt ="DPS" ;
				$('.inner').css('color', '#0084ff');
				$('.cross').css('color', 'black');
				$('.d3').css('width', '8%');
				$scope.BankRateQry("DPS");
			} else {
				$scope.ShowOrHide = false;
				$scope.ShowIt ="LNS" ;
				$('.cross').css('color', '#0084ff');
				$('.inner').css('color', 'black');
				$('.d3').css('width', '54%');
				$scope.BankRateQry("LNS");
			}
		}
		$scope.BankRateQry = function(RateType){
			$remote.post("/pmobile/BankRateQry.do", {"businessType":RateType}, function(data) {
				$scope.typeList = data.RateList;
				$scope.RateList = data.List;
				$scope.beginDate = $scope.RateList[0].beginDate;
			});
		}
	}
</script>