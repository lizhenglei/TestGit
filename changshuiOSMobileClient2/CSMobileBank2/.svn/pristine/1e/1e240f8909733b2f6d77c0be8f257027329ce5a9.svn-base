<div v-view-setup="pliasCtrl" v-init="init()">
	<div v-page v-transition="native" title="修改别名">
		<div class="zz_cont bor" >
			<ul style="position: relative">
				<li><em>原别名：</em> <i class="colff6"> <input type="text"
						id="oname" placeholder="请输入原别名" name="oname" v-model="oname"
						class="y_srk" required>
				</i></li>
				<li><em>新别名：</em> <i class="colff6"> <input type="text"
						id="nname" placeholder="请输入新别名" name="nname" v-model="nname"
						class="y_srk" required>
				</i></li>
<!-- 				<li><em>新别名确认：</em> <i class="colff6"> <input type="text" -->
<!-- 						id="nnname" placeholder="请输入新别名" name="nnname" v-model="nnname" -->
<!-- 						class="y_srk" required> -->
<!-- 				</i></li> -->
			</ul>
		</div>
		<div class="zz_cont" style="background-color:white">
			<input type="button" class="button_1" name="button" value="确认"
				v-click="toresult()">
		</div>
	</div>
</div>
<script>
	pliasCtrl.$inject = [ "$scope", "$remote", "$targets", "$filter",
			"$context" ];
	function pliasCtrl($scope, $remote, $targets, $filter, $context) {
		$scope.init = function() {
			$scope.acno = $context.getJson().acno;
			$scope.old = $context.getJson().old;
			$scope.oname=$scope.old;
			$scope.place = $context.getJson().place;
		}
		$scope.toresult=function(){
			if($scope.nname.length>10){
				alert("对不起，别名最多十位");
				return false;
			}
			 var params={
						"AcNo":$scope.acno,
						"channelCode":"01",//00：个人网银，01：手机银行
						"accountAlias":$scope.nname,
						"flag":5//账户停用-1; 启用-2；删除-3；主账户设置-4；别名设置-5  
				}
				$remote.post("/pmobile/AccountNoManager.do",params,function(data){
					$scope.goto($scope.place);
				});
		}
	}
</script>