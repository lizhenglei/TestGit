//
//  CSIILoanViewController.m
//  MobileClient
//
//  Created by 张海亮 on 13-8-19.
//  Copyright (c) 2013年 pro. All rights reserved.
//

#import "CSIILoanViewController.h"
#import "ForeignExchangeCalculator.h"
#import "CSIILoanCAMViewController.h"
#import "CSIILoanRPEMViewController.h"


@interface CSIILoanViewController ()
{
}
@end

@implementation CSIILoanViewController


- (void)viewWillAppear:(BOOL)animated
{
    [super viewWillAppear:animated];
    ((UILabel*)[self.navigationController.navigationBar viewWithTag:99]).text = @"还款方式";
}
- (void)viewWillDisappear:(BOOL)animated
{
    [super viewWillDisappear:animated];
}

- (id)init
{
    if (self = [super init]) {
        meonyTable = [[UITableView alloc] initWithFrame:self.view.bounds style:UITableViewStylePlain];
        meonyTable.backgroundView = nil;
        meonyTable.backgroundColor = [UIColor clearColor];
        meonyTable.delegate = self;
        meonyTable.dataSource = self;
        meonyTable.scrollEnabled=NO;
        //meonyTable.separatorColor = [UIColor clearColor];
        //meonyTable.separatorStyle = NO;
        [self.view addSubview:meonyTable];
    }
    return self;
}

- (void)viewDidLoad
{
    [super viewDidLoad];
}

-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return 2;
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    NSString *CellIdentifier = [NSString stringWithFormat:@"1%d row%d",indexPath.section,indexPath.row];
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell==nil) {
        cell=[[UITableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
        cell.backgroundColor = [UIColor clearColor];
        //cell背景
        UIView *unselectBg=[[UIView alloc]initWithFrame:CGRectMake(0, 0, 320, 44)];
        unselectBg.backgroundColor=[UIColor clearColor];
        UIImageView *unselectBtn=[[UIImageView alloc]initWithImage:[UIImage imageNamed:@"箭头未选"]];
//        if (IPAD) {
//            unselectBtn.frame=CGRectMake(280, 7, 30, 30);
//        } else {
//            unselectBtn.frame=CGRectMake(280, 7, 30, 30);
//        }
        unselectBtn.frame=CGRectMake(self.view.bounds.size.width-30, 14, 9, 15);
        [unselectBg addSubview:unselectBtn];
        cell.backgroundView=unselectBg;
        
        
        
        UIView *selectBg=[[UIView alloc]initWithFrame:cell.contentView.frame];
        selectBg.backgroundColor=[UIColor colorWithRed:(0xD7)/255.0 green:(0xD7)/255.0 blue:(0xD7)/255.0 alpha:1];
        UIImageView *selectBtn=[[UIImageView alloc]initWithImage:[UIImage imageNamed:@"箭头选中"]];
//        if (IPAD) {
//            selectBtn.frame=CGRectMake(280, 7, 30, 30);
//        } else {
//            selectBtn.frame=CGRectMake(280, 7, 30, 30);
//        }
        selectBtn.frame=CGRectMake(self.view.bounds.size.width-30, 14, 9, 15);
        [selectBg addSubview:selectBtn];
        cell.selectedBackgroundView=selectBg;
        
        cell.textLabel.font=[UIFont systemFontOfSize:18];
        cell.textLabel.highlightedTextColor = [UIColor blackColor];
    }
    
    if (indexPath.row == 0)
    {
        cell.textLabel.text = @"等额还款方式";
    }
    else
    {
        cell.textLabel.text = @"按月递减还款方式";
    }
    
    return cell;
}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    [tableView deselectRowAtIndexPath:indexPath animated:NO];
    if (indexPath.row == 0)
    {
        CSIILoanCAMViewController *loanCAM = [[CSIILoanCAMViewController alloc] init];
        [self.navigationController pushViewController:loanCAM animated:YES];
    }
    else
    {
        CSIILoanRPEMViewController *loanRPEM = [[CSIILoanRPEMViewController alloc] init];
        [self.navigationController pushViewController:loanRPEM animated:YES];
    }
}
@end
